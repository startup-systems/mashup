<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<title>Simple Map</title>
		<link href="style.css" rel="stylesheet" type="text/css" />

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

</head>
<body>
 
        <button id="btn">load map</button>
                <div id="mapc"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
    document.getElementById("btn").onclick = function(){
        $.ajax({
           url: 'https://maps.googleapis.com/maps/api/directions/json?origin=75+9th+Ave+New+York,+NY&destination=MetLife+Stadium+1+MetLife+Stadium+Dr+East+Rutherford,+NJ+07073&key=AIzaSyC-0LDChA3wQZ9RG0MxQ289VEvJ9Fpgp0c',
           dataType: 'json',
           success: function(result){

            console.log(result);
           }
         });
       };
    </script>
<script>
    var map;
      function calculateAndDisplayRoute(directionsService, directionsDisplay) {
        directionsService.route({
          origin: document.getElementById('start').value,
          destination: document.getElementById('end').value,
          travelMode: 'DRIVING'
        }, function(response, status) {
          if (status === 'OK') {
            directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      }
      
    function initMap() {
        var directionsService = new google.maps.DirectionsService();
        var directionsDisplay = new google.maps.DirectionsRenderer();
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: {lat: 41.85, lng: -87.65}
        });
        directionsDisplay.setMap(map);

        var onChangeHandler = function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay);
        };
        document.getElementById('start').addEventListener('change', onChangeHandler);
        document.getElementById('end').addEventListener('change', onChangeHandler);
      }

    $(document).ready(function(){
       $("#btn").click(function(){
        $("#mapc").append('<div id="map"></div>');
        $("#mapc").append('<div id="floating-panel"> <b>Start: </b> <select id="start">'+
        '<option value="chicago, il">Chicago</option>'+
        '<option value="chicago, il">Chicago</option>'+
      	'<option value="st louis, mo">St Louis</option>'+
      	'<option value="joplin, mo">Joplin, MO</option>'+
      	'<option value="oklahoma city, ok">Oklahoma City</option>'+
      	'<option value="amarillo, tx">Amarillo</option>'+
      	'<option value="gallup, nm">Gallup, NM</option>'+
      	'<option value="flagstaff, az">Flagstaff, AZ</option>'+
      	'<option value="winona, az">Winona</option>'+
      	'<option value="kingman, az">Kingman</option>'+
      	'<option value="barstow, ca">Barstow</option>'+
     	'<option value="san bernardino, ca">San Bernardino</option>'+
      	'<option value="los angeles, ca">Los Angeles</option>'+
        '</select>'+
        '<b>End: </b> <select id="end">'+
		'<option value="chicago, il">Chicago</option>'+
        '<option value="chicago, il">Chicago</option>'+
      	'<option value="st louis, mo">St Louis</option>'+
      	'<option value="joplin, mo">Joplin, MO</option>'+
      	'<option value="oklahoma city, ok">Oklahoma City</option>'+
      	'<option value="amarillo, tx">Amarillo</option>'+
      	'<option value="gallup, nm">Gallup, NM</option>'+
      	'<option value="flagstaff, az">Flagstaff, AZ</option>'+
      	'<option value="winona, az">Winona</option>'+
      	'<option value="kingman, az">Kingman</option>'+
      	'<option value="barstow, ca">Barstow</option>'+
     	'<option value="san bernardino, ca">San Bernardino</option>'+
      	'<option value="los angeles, ca">Los Angeles</option>'+
      	'</select></div>');
        initMap();
        });
     });
     



     
</script>
        <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-0LDChA3wQZ9RG0MxQ289VEvJ9Fpgp0c">
        </script>

</body>
</html>
