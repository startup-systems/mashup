<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
		<title>fz234</title>
		<link href="style.css" rel="stylesheet" type="text/css" />

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

</head>
<body>
<div id="wrapper">
	<div id="header">
    <script>
	$(document).ready(function(){
		$('#immagine').click(function(){
			$('#immagine').attr('src', 'http://orig05.deviantart.net/a1df/f/2011/112/8/f/nyan_cat_gif_by_kodiakpaws-d3emqu1.gif');
		});
});
</script>
</div>

	<div id="main-content">
		<div id="left-column">
			<div id="logo">
			fz234 Federico Zarfati
			</div>
			   <p>
					 <img src="https://avatars3.githubusercontent.com/u/2929194?v=3&s=460" id="immagine" alt="altfff" width="139" height="150" style="margin: 0 10px 10px 0;float:left;" />
						<em>This is my small biography!</em>
								<em>I come from Italy and I am a Computer Scientist</em>
										<em>I am really passionate about Artificial Intelligence.</em>
			                 </p>
		</div>
		<div id="right-column">
			<div class="sidebar">
				<h3>About Me</h3>
				<p>Hi! I am Federico and this is my website for the Startup Systems course!</p>
        <div id="mapc"></div>
        <button id="btn">load map</button>
		</div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
    var fetchPlaces = function() {
var infowindow =  new google.maps.InfoWindow({
    content: ''
});
jQuery.ajax({
  url : '/data/places',
  dataType : 'json',
  success : function(response) {

    if (response.status === 'OK') {
      places = response.places;
      // loop through places and add markers
      for (var p in places) {
        //create gmap latlng obj
        if(true){
        tmpLatLng = new google.maps.LatLng( places[p].geo[0], places[p].geo[1]);
        // make and place map maker.
        var marker = new google.maps.Marker({
            map: map,
            position: tmpLatLng,
            title : places[p].name + "<br>" + places[p].geo_name
        });
        bindInfoWindow(marker, map, infowindow, '<b>'+places[p].name + "</b><br>" + places[p].geo_name);
        // not currently used but good to keep track of markers
        markers.push(marker);
      }
    }
    }
  }
});
};
    </script>
<script>
    var map;

    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: -34.397, lng: 150.644},
        zoom: 8
      });
    }
    fetchPlaces();
    $(document).ready(function(){
       $("#btn").click(function(){
        $("#mapc").append('<div id="map"></div>');
        initMap();
        });
     });
</script>
        <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-0LDChA3wQZ9RG0MxQ289VEvJ9Fpgp0c">
        </script>

	</div>
</div>
</div>
</body>
</html>
