<!DOCTYPE html>
<html>
  <head>
    <title>Mashup</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 80%;
        width:1000px;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
    
	<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
	<script type="text/javascript">
		function update(){
			var continent = document.getElementById("continent").value;
			$.ajax({
				dataType: 'text',
				url: "https://maps.googleapis.com/maps/api/geocode/json?address="+continent+"&key=AIzaSyA8B8dfdYokkZEtY6T0Lr3QxiJWlDRPaYg",
				type: "GET",
				success: function (data) {
					var result = JSON.parse(data);
					var centerData=result.results.geometry[0];
			},
			});
	}
	</script>
  </head>
  <body>
  	<h1>This is a list of the leading documentary film festivals right now</h1>
  	<p>Drag the map to see festivals in the far edges of the universe</p>
  	
  	<form>
	Enter Continent:<br>
	<input type="text" name = "continent" id="continent"><br>
	<input type="button" value="Submit" onclick="update()"/>
	</form>
    <div id="map"></div>
    <script> 
	
      function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 52.370216, lng: 4.895168},
          zoom: 3
        });
        var markerAms = new google.maps.Marker({
  			'position': {lat:52.370216, lng:4.895168},
  			'map': map,
  			'title': 'IDFA is a documentary-only festival that takes place in November'
  		});
  		
  		var infoWindowTor = new google.maps.InfoWindow ({
  			'content': "<h3> Toronto International Film Festival </h3>" +
  			"TIFF is one of the largest publicly attended film festivals in the world,<br>"+
  			"attracting over 480,000 people annually.<br>" +
  			"<a href=https://www.tiff.net/>Visit the website </a>"
		});  		
  		var markerTor = new google.maps.Marker({
  			'position': {lat:43.653226, lng:-79.383184},
  			'map': map,
  			'title': 'TIFF'
  		});
  		markerTor.addListener ('click', function() {
  			infoWindowTor.open(map, markerTor);
  		});
  		var markerShef = new google.maps.Marker({
  			'position': {lat:53.381129, lng:-1.470085},
  			'map': map,
  			'title': 'Sheffield Doc/Fest is a favorite among doc die-hard, a smallish June festival'
  		});
  		var markerAviv = new google.maps.Marker({
  			'position': {lat:32.085300, lng:34.781768},
  			'map': map,
  			'title': 'DocAviv is emerging as an international staple in the industry. Runs in May.'
  		});
  		var markerNYC = new google.maps.Marker({
  			'position': {lat:40.712784, lng:-74.005941},
  			'map': map,
  			'title': 'DOC NYC is the biggest doc festival in the United States. Runs in November. '
  		});
  		var markerAnt = new google.maps.Marker({
  			'position': {lat:-33.868820, lng:151.209296},
  			'map': map,
  			'title': 'Antenna is a small but well respected doc festival in Sydney, which runs in October. '
  		});
  		var markerLis = new google.maps.Marker({
  			'position': {lat:38.722252, lng:-9.139337},
  			'map': map,
  			'title': 'DocLisboa is a small December festival, but has a market that attracts commissioners and filmmakers. '
  		});
	    		
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8B8dfdYokkZEtY6T0Lr3QxiJWlDRPaYg&callback=initMap"></script>
  </body>
</html>
